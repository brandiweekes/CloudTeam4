syntax = "proto3"

package sufs;

service FileHandling {
	rpc WriteFile (WriteRequest) returns (WriteResponse) {}
}

message WriteRequest {
	int32 blockID = 1;
	float blockSize = 2;
	repeated string dataNodeID = 3;
}

message WriteResponse {
	bool response = 1;
}

service DataNodeHealthCenter {
	rpc HealthCheck(HealthRequest) returns (HealthResponse) {}
}

message HealthCheck {
	int32 blockID = 1;
	float blockSize = 2;
	bool instruction = 3;
}

message HealthResponse {
	bool response = 1;
}

service Pipelining {
	rpc ReplicateBlock(ReplicateRequest) returns (ReplicateResponse) {}
}

message ReplicateBlock {
	int32 blockID = 1;
	float blockSize = 2;
	repeated string dataNodeID = 3;
}

message ReplicateResponse {
	bool response = 1;
}